<html style="
scroll-behavior: smooth">

<style class="inlineCSS">

  {% include critical.css %}

</style>
<body style= "background-color: #edebeb">
<div class="wrapper">
  <div class="right_post">
    <section id = "first" style = "height: 100%;">
      <a href="{{"/" | relative_url }}"{{site.title | escape}}>Retour à l'accueil</a>
    <title_post>
      {{ page.title }}
    </title_post>
    <author_post>
      {{ page.description }}
    </author_post>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    {{page.rating}}
    <book_details>
      Lu en {{ page.lu }}
    </book_details>
    <book_details>
      {{ page.pages }} pages
    </book_details>
    <div style="bottom: 10;
    position: absolute;">
    <a href="#summ" class="btn btn-primary js-scroll-trigger" style="
    font-size: larger;
    padding-left: 450px;
    padding-right: 450px;
    background-color: #edebeb !important;
    color: #615f5f;
    ">﹀</a>
    </div>
    </section>
    
    <section id="second" style = "height: 100%">
      <author_post style = "line-height:5">
        Résumé
      </author_post>
      {{ page.summ }} 
    </section>

    {% if page.annot %}
    <section id="third" style = "height: 100%;">
      <author_post style = "line-height:5">
        Annotations
      </author_post>
      {{ content }}
    </section>
    {% endif %}

   <div class="left_post">  
  <div class="overlay_post">
    
  </div>
  </div>


  <!-- <div class="sidenav">
    <a href="#general">Infos</a>
    <a href="#summ">Résumé</a>
    {% if page.annot %}
    <a href="#annot"><img src= "quote_generator/current_stats.png" alt="Current stats" style = "width: 40%; height:
      40%"></a>
    {% endif %}
      
  </div> -->
  <script>const indicators = document.querySelectorAll(".indicator");
    const sections = document.querySelectorAll("section");
    
    const resetCurrentActiveIndicator = () => {
      const activeIndicator = document.querySelector(".active");
      activeIndicator.classList.remove("active");
    };
    
    const onSectionLeavesViewport = (section) => {
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              resetCurrentActiveIndicator();
              const element = entry.target;
              const indicator = document.querySelector(`a[href='#${element.id}']`);
              indicator.classList.add("active");
              return;
            }
          });
        },
        {
          root: null,
          rootMargin: "0px",
          threshold: 0.75
        }
      );
      observer.observe(section);
    };
    
    indicators.forEach((indicator) => {
      indicator.addEventListener("click", function (event) {
        event.preventDefault();
        document
          .querySelector(this.getAttribute("href"))
          .scrollIntoView({ behavior: "smooth" });
        resetCurrentActiveIndicator();
        this.classList.add("active");
      });
    });
    
    sections.forEach(onSectionLeavesViewport);
    </script>
  <aside>
    <uls>
      <lis>
        <a class="indicator active" href="#first"></a>
      </lis>
      <lis>
        <a class="indicator" href="#second"></a>
      </lis>
      {% if page.annot %}
      <lis>
        <a class="indicator" href="#third"></a>
      </lis>
      {% endif %}
    </ul>
  </aside>
</body>
</html>
